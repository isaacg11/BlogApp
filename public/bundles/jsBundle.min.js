!function(){"use strict";function t(t,e){t.state("Home",{url:"/",templateUrl:"views/Home.html"}).state("Register",{url:"/Register",templateUrl:"views/register.html"}).state("Profile",{url:"/Profile",templateUrl:"views/profile.html"}).state("Add",{url:"/Add",templateUrl:"views/addBlog.html"}).state("Edit",{url:"/Edit",templateUrl:"views/editBlog.html"}).state("Public",{url:"/Public",templateUrl:"views/public.html"}),e.otherwise("/")}angular.module("app",["ui.router"]).config(t),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(){var t=this;t.title="Welcome to our App!"}angular.module("app").controller("HomeController",t),t.$inject=[]}(),function(){"use strict";function t(t,e){function r(){t.login(o.user).then(function(){e.go("Profile")})}var o=this;o.user={},o.status=t.status,o.login=r,o.logout=t.logout}angular.module("app").controller("navBarController",t),t.$inject=["userFactory","$state"]}(),function(){"use strict";function t(t,e){function r(){var r=o.user;return r.username&&r.email&&r.password&&r.cpassword&&r.password===r.cpassword?void t.register(r).then(function(){e.go("Profile")}):!1}var o=this;o.user={},o.status=t.status,o.register=r}angular.module("app").controller("registerController",t),t.$inject=["userFactory","$state"]}(),function(){"use strict";function t(t,e){var r={};return r}angular.module("app").factory("HomeFactory",t),t.$inject=["$http","$q"]}(),function(){"use strict";function t(t,e,r){function o(r){var o=e.defer();return t.post("/api/Users/Register",r).success(function(t){u(t.token),c.status.isLoggedIn=!0,o.resolve()}).error(function(t){console.error(t)}),o.promise}function s(r){var o={username:r.username.toLowerCase(),password:r.password},s=e.defer();return t.post("/api/Users/Login",o).success(function(t){u(t.token),c.status.isLoggedIn=!0,s.resolve()}),s.promise}function n(){console.log("reached the factory"),c.status.isLoggedIn=!1,i()}function u(t){localStorage.setItem("token",t),c.status.username=l()}function a(){return localStorage.token}function i(){localStorage.removeItem("token"),c.status.username=null}function l(){return JSON.parse(atob(a().split(".")[1])).username}var c={};return c.status={},a()&&(c.status.isLoggedIn=!0,c.status.username=l()),c.setToken=u,c.getToken=a,c.removeToken=i,c.register=o,c.login=s,c.logout=n,c}angular.module("app").factory("userFactory",t),t.$inject=["$http","$q","$state"]}();